@page "/auditrules"

<PageTitle>Scan rules</PageTitle>

<MudButton Color="Color.Success" Variant="Variant.Filled" @onclick="OnCreateButton">Create new rule</MudButton>

<MudDataGrid T="RestAPI.Domain.Data.Models.AuditRule" Items="@_auditRules" Filterable="false" SortMode="@SortMode.None" Groupable="false" >
    <Columns>
        <PropertyColumn Property="x => x.Identifier" />
        <PropertyColumn Property="x => x.Type" />
        <PropertyColumn Property="x => x.OnSuccess" Title="On success message" />
        <PropertyColumn Property="x => x.OnFailed" Title="On failed message" />
        <TemplateColumn CellClass="d-flex justify-end">
            <CellTemplate>
                <MudStack Row>
                    <MudIconButton Color="Color.Info" Icon="@Icons.Material.Filled.Edit" OnClick="() => Update(context.Item)"/>
                    <MudIconButton Color="Color.Error" Icon="@Icons.Material.Filled.Delete" OnClick="() => Delete(context.Item)"/>
                </MudStack>
            </CellTemplate>
        </TemplateColumn>
    </Columns>
</MudDataGrid>